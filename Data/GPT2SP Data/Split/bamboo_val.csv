Issue,Storypoint
"Make Bamboo Windows installer work nicer with default permissions
 At the moment the default permissions on Windows 7 really do screw us over since we write atlassian-bamboo.log to running dir & for services, the tmp directory",2
"User can configure key value pairs as parameters at the Plan level
Currently we only have global parameters. With this story we allow the user to define parameters on the Plan level and expose these to all Jobs within the Plan",5
"User can override key value pairs when running a manual build
When triggering a build manually, the user will be asked if he wants to overwrite any of the existing parameters for the Plan. ",2
"Allow a user to kick of a build via REST and provide the parameters as part of the REST call
nan",2
"Null repository
 A dummy repository that basically doesn't do anything. ",2
"Make variables available as environment variables
 So script could use it more easily.",3
"Upgrade ActiveMQ to 5.4.2
nan",3
"New dialog forms revert to initial data on validation error
This might actually be happening in all forms in Bamboo.    To reproduce:  * go to Stage configuration on a plan  * edit a stage  * remove the ""name"" but add a description (or just something that will cause a validation error), then submit  * notice that validation causes the data you entered to be wiped and the original data to be restored",1
"Build hung never finish in the UI even after killing agent and all the related process
Hi, we got this build:    https://bamboo-extranet.atlassian.com/build/result/viewBuildResults.action?buildKey=JST-NONGAPPS-FFWDRV&buildNumber=176 that was hung. A manual stop didn't work so we killed the process and the agents.    In spite of doing that the UI still thinks that is building something, even when the agent (2@atlassian25) was idle and after that building other plans.    You can check the thread-dump of the server here: https://extranet.atlassian.com/jira/browse/ADM-12681    The plan was executed again, but the UI still thinks it is building 176. Maybe it is because ""Concurrency builds"" is set to 2.         ",3
"MovePlans does not invalidate the caches
It doesn't invalidate the build definition cace and may not invalidate the dashboard cache either.",1
"Make ImportExportManager available to plugins
I've been trying to create a cross-product way of doing restores through a REST resource.  This would make life much simpler for doing integration tests in that we could put applications into a ""known"" state before a test is run.  I tried writing a REST resource to do this for Bamboo, but found that I could not get the [ImportExportManager|http://docs.atlassian.com/atlassian-bamboo/3.0/com/atlassian/bamboo/migration/ImportExportManager.html] injected.    Any chance of we can make this available to plugins for uses such as this?",1
"Maven Artifact Sharing breaks when server is configured to use SSL and Job is running on ec2
Bamboos tunnel on ec2 is at 127.0.0.1 which is not valid for any SSL certificate.    {noformat}  build	15-Mar-2011 00:22:36	Downloading: https://maven.atlassian.com/repository/internal//opensymphony/xwork/1.2.5-atlassian-1/xwork-1.2.5-atlassian-1.pom  build	15-Mar-2011 00:22:37	11K downloaded  (xwork-1.2.5-atlassian-1.pom)  build	15-Mar-2011 00:22:37	Downloading: https://127.0.0.1:46593/plugins/servlet/maven/subscribe/JST-NIGHTLY-6/JST-NIGHTLY-BUILD//ognl/ognl/2.7.1/ognl-2.7.1.pom  build	15-Mar-2011 00:22:37	[WARNING] Unable to get resource 'ognl:ognl:pom:2.7.1' from repository atlassian-bamboo-artifact-sharing (https://127.0.0.1:46593/plugins/servlet/maven/subscribe/JST-NIGHTLY-6/JST-NIGHTLY-BUILD/): Error transferring file: java.security.cert.CertificateException: No subject alternative names matching IP address 127.0.0.1 found  build	15-Mar-2011 00:22:37	Downloading: https://maven.atlassian.com/repository/internal//ognl/ognl/2.7.1/ognl-2.7.1.pom  build	15-Mar-2011 00:22:37	5K downloaded  (ognl-2.7.1.pom)  build	15-Mar-2011 00:22:37	Downloading: https://127.0.0.1:46593/plugins/servlet/maven/subscribe/JST-NIGHTLY-6/JST-NIGHTLY-BUILD//jboss/javassist/3.6.ga/javassist-3.6.ga.pom  build	15-Mar-2011 00:22:37	[WARNING] Unable to get resource 'jboss:javassist:pom:3.6.ga' from repository atlassian-bamboo-artifact-sharing (https://127.0.0.1:46593/plugins/servlet/maven/subscribe/JST-NIGHTLY-6/JST-NIGHTLY-BUILD/): Error transferring file: java.security.cert.CertificateException: No subject alternative names matching IP address 127.0.0.1 found  build	15-Mar-2011 00:22:37	Downloading: https://maven.atlassian.com/repository/internal//jboss/javassist/3.6.ga/javassist-3.6.ga.pom  build	15-Mar-2011 00:22:37	1008b downloaded  (javassist-3.6.ga.pom)  build	15-Mar-2011 00:22:37	Downloading: https://127.0.0.1:46593/plugins/servlet/maven/subscribe/JST-NIGHTLY-6/JST-NIGHTLY-BUILD//org/rifers/rife-continuations/0.0.2/rife-continuations-0.0.2.pom  build	15-Mar-2011 00:22:37	[WARNING] Unable to get resource 'org.rifers:rife-continuations:pom:0.0.2' from repository atlassian-bamboo-artifact-sharing (https://127.0.0.1:46593/plugins/servlet/maven/subscribe/JST-NIGHTLY-6/JST-NIGHTLY-BUILD/): Error transferring file: java.security.cert.CertificateException: No subject alternative names matching IP address 127.0.0.1 found  {noformat}",2
"Upgrade to gadgets 3.0.4
To get up to date with the February Common Upgrade Pack:  https://extranet.atlassian.com/display/DEV/Common+Module+Upgrade+Pack+-+2011-02  we need to upgrade to Gadgets 3.0.4.    Should be easy as the fixes are minor and we are on gadgets 3.0.2.",2
"Upgrade to Atlassian XWork 1.12
To get up to date with the February Common Upgrade Pack:  https://extranet.atlassian.com/display/DEV/Common+Module+Upgrade+Pack+-+2011-02  we need to upgrade to XWork 1.12",1
"context contains arrays when it expects strings on validation failure
In our task code on validation failure, we re-copy everything that can in on the request back on to the stack for re-rendering (so the values entered by the user remain).    The problem is that the actionContext puts everything in an Array, where it usually would just be a string.  Whilst some of our front end code accomodates this, some of it doesn't (e.g. select/show/hide stuff)    I was originally going to convert everything over to a string when i put it on the stack, but I'm not sure how many assumptions I can make (are they all supposed to be strings, what if the front end really does want an array)",1
"Creating a task without a executable selected dies badly
When you click save on a maven task at the moment, and you haven't selected an actual builder from the drop down, it dies badly, rather than just returning a nice validation error above the drop down: ""Please select a builder"".",1
"Finalise Task wording on Plan/Job Creation screens
and also Task editing screens    Wording will be available soon",1
"Create a popup for available variables
A popup to display available global variables should be accessible from the Plan and Job configuration pages. The popup should have 2 tab (Variables).  ",2
"MsTest Conversion
nan",2
"Categories for tasks backend
nan",2
"Categories for tasks UI
nan",2
"Jobs with different Subversion repositories on the same host: ""Failed to checkout source code to revision""
We tried to use the following jobs with different Subversion locations in a plan in Bamboo:    - *Main job*: https://svn.atlassian.com/svn/private/atlassian/confluence/branches/confluence-project-3.5-stable  - *Plugin trigger job*: https://svn.atlassian.com/svn/public/atlassian/bamboo/plugins/build-trigger-scripts/trunk    Notice that the first job uses {{/svn/private/}} and the second uses {{/svn/public/}} -- different paths on the same host.    Bamboo fails when running the second job because it attempts to check out the first job's revision on the second job's Subversion repository, which does not work:    bq. Failed to checkout source code to revision '148195' ...    Here's an example on our internal Bamboo server:    * https://bamboo.extranet.atlassian.com/browse/CONFSTAB-MAIN-76  ",2
"Git Repository locks index.lock on Windows agents
Whenever an error occurs on windows agents during the checkout phase(GitOperationHelper.checkout) the .git/index.lock file handle became locked by the system - disallowing any further operations for that particular plan.    Details: [BSP-4370|https://support.atlassian.com/browse/BSP-4370]",3
"Using the git repository type can not connect to github using ssh keys
When attempting to use a key to log into my github account using my private key i get an authentication error. Specifying the same key with ssh -i i can connect to github fine. Using a username/password is a temporary work around.  ",2
"Release Management Plugin - Release Build  PostChainAction (java.lang.NullPointerException)
I've taken the new Jar from here   http://jira.atlassian.com/browse/BAM-8064    I still get the same erro    System Error Details  Build LGXT Test - LGXT Release 9 : PostChainAction   (java.lang.NullPointerException : )    Occurrences: 2   First Occurred: 11 Apr 2011, 4:49:14 PM   Last Occurred: 11 Apr 2011, 4:55:16 PM  java.lang.NullPointerException    com.atlassian.bamboo.build.VariableBuilderBeanImpl.getVariablesForSubscriptionsContext(VariableBuilderBeanImpl.java:125)    com.atlassian.bamboo.build.VariableBuilderBeanImpl.filterVariablesByName(VariableBuilderBeanImpl.java:61)    com.atlassian.bamboo.build.VariableSubstitutionBeanImpl.substituteBambooVariables(VariableSubstitutionBeanImpl.java:57)    com.atlassian.bamboo.build.VariableSubstitutionBeanImpl.substituteBambooVariables(VariableSubstitutionBeanImpl.java:42)    com.sysbliss.bamboo.plugins.brmp.action.postrunners.TaggerRunner.runTagger(TaggerRunner.java:74)    com.atlassian.bamboo.plugins.brmp.action.BRMPChainCompleteAction.execute(BRMPChainCompleteAction.java:61)    com.atlassian.bamboo.chains.ChainPluginSupportImpl.chainCompleted(ChainPluginSupportImpl.java:94)    com.atlassian.bamboo.chains.ChainExecutionManagerImpl.finaliseChainStateIfChainExecutionHasCompleted(ChainExecutionManagerImpl.java:525)    com.atlassian.bamboo.chains.ChainExecutionManagerImpl.access$600(ChainExecutionManagerImpl.java:49)    com.atlassian.bamboo.chains.ChainExecutionManagerImpl$1.run(ChainExecutionManagerImpl.java:281)    com.atlassian.util.concurrent.ManagedLocks$ManagedLockImpl.withLock(ManagedLocks.java:322)    com.atlassian.bamboo.chains.ChainExecutionManagerImpl.execute(ChainExecutionManagerImpl.java:240)    com.atlassian.bamboo.chains.ChainExecutionManagerImpl.access$1000(ChainExecutionManagerImpl.java:49)    com.atlassian.bamboo.chains.ChainExecutionManagerImpl$2.run(ChainExecutionManagerImpl.java:327)    com.atlassian.util.concurrent.ManagedLocks$ManagedLockImpl.withLock(ManagedLocks.java:322)    com.atlassian.bamboo.chains.ChainExecutionManagerImpl.handleEvent(ChainExecutionManagerImpl.java:307)    sun.reflect.GeneratedMethodAccessor374.invoke(Unknown Source)    sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)    java.lang.reflect.Method.invoke(Method.java:597)    org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:304)    org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:182)    org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:149)    org.springframework.orm.hibernate.HibernateInterceptor.invoke(HibernateInterceptor.java:117)    org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)    org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)    $Proxy48.handleEvent(Unknown Source)    com.atlassian.event.legacy.LegacyListenerHandler$LegacyListenerInvoker.invoke(LegacyListenerHandler.java:55)    com.atlassian.event.internal.AsynchronousAbleEventDispatcher$2.run(AsynchronousAbleEventDispatcher.java:60)    java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)    java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)    com.atlassian.bamboo.build.pipeline.concurrent.NamedThreadFactory$2.run(NamedThreadFactory.java:50)    java.lang.Thread.run(Thread.java:662)    I've a very simple devenv build.",1
"JDK Label should default to JDK
At the moment it's just the first one",1
"Fix up the logs pages for Plans & Jobs
This still wasn't fixed in 3.0. Table should be 100%. Get rid of view, link should go to the logs tab in the Job. Maybe even dispaly the last 25 lines in the logs inline with the hide / show twixie",2
"Bamboo fails to check out git code due to 'Missing object' but command line git clones the repo just fine
While checking out: https://github.com/krosenvold/bgit.git  Checkout to revision 67fc88bf41aa2ddea0e50159868764c82bed5bad has failed due to Missing object 3a450411d6868221ae290bc0c17695de2990d5d8. Note this might happen if the repository contains submodules, as Bamboo does not currently support git submodules.    Is it a bug? How can I find out if the repo contains submodules?",3
"Tests that are recorded as error cause the build not to display test results.
See the following failure: http://tardigrade.sydney.atlassian.com:8085/bamboo/browse/BAM-FC-CLN-3947  ",2
"execution of accesskey=""E"" on a build instance results in ""page not found""
h3. steps  # open a build instance   # hit ur browsers hotkey for edting  -> page not found    h3. cause  looking @ the generates HTML the fault is obvious:  {code:html}    <a class=""hidden"" href=""/build/admin/edit/editBuildConfiguration.action?buildKey=ECC-ECC21-18"" accesskey=""E"">Edit Plan</a>  {code}      h3. suggestion    i like the possibility to directly edit the config from a build instance and hence i would not want this to be dropped. after all this is very useful when debugging builds.  hence, just fix the link in case of build instances.    ",1
"Maven 2 Auto Dependency parent checkbox not disabled
Maven 2 dependencies determined in the 2.5 bamboo instance still exist, however only the child checkbox is greyed out, not the parent.",2
"Update Bamboo Plugin SDK default project to simple task
We should include two sample tasks:  * Builder Task with Executable UI  * Test Collector    Things we should showcase:  * Executables - TaskRequirementSupport and CapabilityDefaultsHelper  * ProcessService  * TestCollationService with custom TestReportCollector and TestCollectionResult. Should implement and explain TaskTestResultsSupport.  * Task Categories     ",3
"Update Context Sensitive Help for Bamboo 3.1
as per the release process here: https://extranet.atlassian.com/display/BAMBOO/Context+Sensitive+Help    I have already updated the help-paths.properties to be docs-031",1
"Simplify capability message on Tasks
The message currently reads:     ""8 agents are capable of building this Job. However, those agents are currently offline or disabled. This Job is capable of building in the Elastic Cloud on 8 images.""     This is way to long for this section and distracts with the red color from the actual task at hand. We should shorten this to:    ""8 agents and 8 images have the _capabilities_ to run this job""    Link capabilities to the requirements tab. The numbers are for agents (whether online or offline) people can click through to the requirements tab where they can see the more detailed message    We should also align the text on the right, see screenshot.",1
"Some Tasks fail on Windows because they exceed the MAX_PATH limit of 260 chars
You might see something like the following:  {noformat}  The specified path, file name, or both are too long. The fully qualified file name must be less than 260 characters, and the directory name must be less than 248 characters.  {noformat}",2
"User can specify on stage creation it is manual
nan",1
"User can change manual flag for stage
nan",2
"REST API should provide manual stages information
* manual flag on stage definition  * manual stage in stage result  * all data related to manual stage lifecycle    Required for proper displaying in navigator",1
"Build results with incomplete Manual stages should be clearly marked in all views
Stage only  Stage result and jobs result - for results    * plan configuration navigator  * plan navigator  * stages configuration page  * plan result navigator    Mockups to come",2
"Plan execution should stop at manual stage
# only object that are necessary to execute current lap should be created for execution  # results for ALL stages and jobs should be created when chain execution is started  # jobs than will be not executed in current lap should have additional status flag (new ExecutionState enum in resultSummary)  # chain result should be marked as waiting for continue (the same ExecutionState enum in resultsSummary)  # Plan status is SUCCESSFUL if no failures in executed jobs",1
"User can resume execution of plan stopped on manual stage
# The only stage that could be resumed is the stage where chain executions stopped  ## Bamboo should know what stage to execute  # New Actions menu item ""Continue"" (plan result and job result) - automatically resumes on manual stage, visible only if execution stopped on manual stage  # Play button in Navigator on manual stage Tick",1
"User can execute manual stages automatically on specific conditions
# Run Parameterized Build dialog should have new tab  ## Same UI on the JIRA side (see mockups from the Release Management Spec)  # REST API parameters to allow run up to a stage  ## Name of the manual stage to automatically run up to and including  ## This is automatically run any previous manual stages as well  # The same url parameters should be accepted by action and REST API (/)  ",2
"A user can see on Dashboard plans with manual stages waiting for execution
# Only if latest executed plan stopped on manual stage  # Only marker - no direct action available to continue",1
"Plan configuration should be validated before resuming plan execution
Plan should be validated against stored result (with partial job results)  Error (friendly :) )  should be presented to the user when:  # If stage or job meant to be executed has been removed from plan  # If plan structure (stages, jobs) has been changed",2
"Events for manual stages/rerun stage
* stop on manual stage  * result manual stage  * restart failed stage",1
"Plugin points for manual stages/rerun stage
* stop on manual stage  * resume manual stage  * restart failed stage",2
"Ability to hit the REST endpoint to trigger a build in Bamboo from the JIRA plugin
nan",1
"Bamboo not updating Mercurial sub-repositories when getting source on build server
From SAC:  ""We use Mercurial and our project has a sub-repository (in a folder UI\Elegant) which is specified in the .hgsub file. The project is setup correctly, we can get it to any PC, commit, push, pull changes etc.. However, when changes to the sub-repository are made the Bamboo build fails. The hg.exe command appears to work in getting the project to the cache folder, though the sub-repository (UI\Elegant) is missing, but when it then tries to update the working folder (Bamboo\xml-data\build-dir\AIE-DEV-JOB1) it fails saying no working folder is specified for UI\Elegant.    How can we resolve this?  ""  https://support.atlassian.com/browse/BSP-4674",2
"Build time for statistics should be sum of job times for rerun builds
When manual stage is waiting for execution - it changes build time statistics.  Sum of job execution should be counted, not chain stop - chain start times.",1
"Whilelist Bamboo REST proxy in Bamboo JIRA Plugin
Not done for the moment since we don't know what URLS we want to hit",1
"Git Repository should check out symbolic links correctly
see: http://forums.atlassian.com/thread.jspa?threadID=54198&tstart=0    {quote}  Hey folks,     I'm rolling out a new instance of Bamboo 3.1 using a git repository. When I clone the repo using my local git client, symbolic links are checked out correctly, but when Bamboo checks them out the files only contain the name of the files they should be linked to.  {quote}",1
"A user can define application link to Jira application
nan",2
"A user can define link between Bamboo project and Jira project
nan",2
"Jira issue information should be asynchronously retrieved from Jira on view - ajax
nan",2
"REST endpoint to retrieve possible variables to override.
nan",1
"Ability to pick future manual stages to run when triggering a previous build.
nan",2
"Handle Authentication Errors returned by Proxy
When the JIRA UI polls bamboo it could require the oauth handshake, we need to make sure this works, and flows nicely.",2
"Strange errors with disappearing OAuth consumers on JBAC when talking to JDOG
So I was trying to make some gadgets work on JDOG.    I was getting the ""Login & Approve"" button on JDOG.  I clicked it and got redirected to JBAC where I approved access.  Once back in JDOG I'd still get the Login & Approve button.    I tried to then reduce the JDOG OAuth consumer from JBAC but when I clicked delete I'd get an error popup with something along the lines of 'Failed to remove OAuth consumer.  I tried this several times with the same result. Refreshed the page and the consumer was still there.    I then visited  https://jira.bamboo.atlassian.com/plugins/servlet/oauth/users/access-tokens to look at my access tokens but got this:  {noformat}  com.atlassian.templaterenderer.RenderingException: java.lang.NullPointerException: consumer    com.atlassian.templaterenderer.velocity.one.six.internal.VelocityTemplateRendererImpl.render(VelocityTemplateRendererImpl.java:99)    sun.reflect.GeneratedMethodAccessor2870.invoke(Unknown Source)    sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)    java.lang.reflect.Method.invoke(Method.java:597)    org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:307)    org.springframework.osgi.service.importer.support.internal.aop.ServiceInvoker.doInvoke(ServiceInvoker.java:58)    org.springframework.osgi.service.importer.support.internal.aop.ServiceInvoker.invoke(ServiceInvoker.java:62)    org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)    org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:131)    org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:119)    org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)    org.springframework.osgi.service.util.internal.aop.ServiceTCCLInterceptor.invokeUnprivileged(ServiceTCCLInterceptor.java:56)    org.springframework.osgi.service.util.internal.aop.ServiceTCCLInterceptor.invoke(ServiceTCCLInterceptor.java:39)    org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)    org.springframework.osgi.service.importer.support.LocalBundleContextAdvice.invoke(LocalBundleContextAdvice.java:59)    org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)    org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:131)    org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:119)    org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)    org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)    $Proxy208.render(Unknown Source)    com.atlassian.oauth.serviceprovider.internal.servlet.user.AccessTokensServlet.doGet(AccessTokensServlet.java:60)    javax.servlet.http.HttpServlet.service(HttpServlet.java:690)    javax.servlet.http.HttpServlet.service(HttpServlet.java:803)    com.atlassian.plugin.servlet.DelegatingPluginServlet.service(DelegatingPluginServlet.java:42)    javax.servlet.http.HttpServlet.service(HttpServlet.java:803)    com.atlassian.plugin.servlet.ServletModuleContainerServlet.service(ServletModuleContainerServlet.java:52)    javax.servlet.http.HttpServlet.service(HttpServlet.java:803)    org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:269)    org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)    com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)    com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)    com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:25)    com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)    com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)    com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)    com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)    org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)    org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)    com.opensymphony.module.sitemesh.filter.PageFilter.parsePage(PageFilter.java:118)    com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:52)    org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)    org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)    com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)    com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)    com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)    org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)    org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)    com.atlassian.bamboo.filter.AccessLogFilter.doFilter(AccessLogFilter.java:66)    org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)    org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)    org.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:265)    org.acegisecurity.providers.anonymous.AnonymousProcessingFilter.doFilter(AnonymousProcessingFilter.java:125)    org.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:275)    com.atlassian.bamboo.filter.SeraphLoginFilter.doFilter(SeraphLoginFilter.java:74)    org.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:275)    org.acegisecurity.util.FilterChainProxy.doFilter(FilterChainProxy.java:149)    org.acegisecurity.util.FilterToBeanProxy.doFilter(FilterToBeanProxy.java:98)    com.atlassian.bamboo.filter.BambooAcegiProxyFilter.doFilter(BambooAcegiProxyFilter.java:25)    org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)    org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)    com.atlassian.bamboo.filter.LicenseFilter.doFilter(LicenseFilter.java:73)    com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:31)    org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)    org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)    com.atlassian.johnson.filters.AbstractJohnsonFilter.doFilter(AbstractJohnsonFilter.java:71)    org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)    org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)    com.atlassian.seraph.filter.SecurityFilter.doFilter(SecurityFilter.java:211)    org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)    org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)    com.atlassian.seraph.filter.BaseLoginFilter.doFilter(BaseLoginFilter.java:150)    org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)    org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)    com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)    com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)    com.atlassian.oauth.serviceprovider.internal.servlet.OAuthFilter.doFilter(OAuthFilter.java:71)    com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)    com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)    com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)    com.atlassian.security.auth.trustedapps.filter.TrustedApplicationsFilter.doFilter(TrustedApplicationsFilter.java:98)    com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)    com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)    com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)    com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)    org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)    org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)    org.springframework.orm.hibernate.support.OpenSessionInViewFilter.doFilterInternal(OpenSessionInViewFilter.java:170)    com.atlassian.bamboo.persistence.BambooSessionInViewFilter.doFilterInternal(BambooSessionInViewFilter.java:31)    org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:75)    org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)    org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)    com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)    com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)    com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)    org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)    org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)    org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:96)    org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:75)    org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)    org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)    org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:210)    org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:174)    org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:117)    org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:108)    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:151)    org.apache.jk.server.JkCoyoteHandler.invoke(JkCoyoteHandler.java:200)    org.apache.jk.common.HandlerRequest.invoke(HandlerRequest.java:283)    org.apache.jk.common.ChannelSocket.invoke(ChannelSocket.java:773)    org.apache.jk.common.ChannelSocket.processConnection(ChannelSocket.java:703)    org.apache.jk.common.ChannelSocket$SocketConnection.runIt(ChannelSocket.java:895)    org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:685)    java.lang.Thread.run(Thread.java:662)  Caused by: java.lang.NullPointerException: consumer    com.atlassian.oauth.util.Check.notNull(Check.java:37)    com.atlassian.oauth.Token$TokenBuilder.consumer(Token.java:178)    com.atlassian.oauth.serviceprovider.sal.PluginSettingsServiceProviderTokenStore.get(PluginSettingsServiceProviderTokenStore.java:92)    com.atlassian.oauth.serviceprovider.sal.PluginSettingsServiceProviderTokenStore$KeyToToken.apply(PluginSettingsServiceProviderTokenStore.java:232)    com.atlassian.oauth.serviceprovider.sal.PluginSettingsServiceProviderTokenStore$KeyToToken.apply(PluginSettingsServiceProviderTokenStore.java:221)    com.google.common.collect.Iterators$8.next(Iterators.java:751)    org.apache.velocity.runtime.directive.Foreach.render(Foreach.java:346)    org.apache.velocity.runtime.parser.node.ASTDirective.render(ASTDirective.java:175)    org.apache.velocity.runtime.parser.node.ASTBlock.render(ASTBlock.java:72)    org.apache.velocity.runtime.parser.node.ASTIfStatement.render(ASTIfStatement.java:87)    org.apache.velocity.runtime.parser.node.SimpleNode.render(SimpleNode.java:336)    org.apache.velocity.Template.merge(Template.java:328)    org.apache.velocity.Template.merge(Template.java:235)    com.atlassian.templaterenderer.velocity.one.six.internal.VelocityTemplateRendererImpl.render(VelocityTemplateRendererImpl.java:90)  	... 113 more  {noformat}    When I went back to the Oauth consumers page the consumer was gone. I re-added it and now https://jira.bamboo.atlassian.com/plugins/servlet/oauth/users/access-tokens works again. I can also get the gadgets to authenticate.  Very weird I know and not the best of bug reports but it happend :).",3
"If an older version of Bamboo is trying to run a newer version of the data, we should stop the server
If a Bamboo 3.1.1 instance is shutdown and then a 2.6.2 is run pointing to the 3.1.1 Home-Dir, the 2.6.2 will change the bamboo.cfg.xml to an old Build Number.    The Build number should be checked and if it is clear that it is higher than the one for the installation, Bamboo should not even start.    This can avoid potential changes that version 2.6.2 would make to the 3.1.1 database and avoid data corruption.",1
"Ability for the Test Collater to aggregate test results
If more than one Task creates test results in a Job, Bamboo will not be able to save all the test results for all the Tasks.    Only the last task will have the test results saved and presented on the UI.    *Desired behavior:* Any Task can create test results and the final Test Report will include results from all Tasks that created tests.",2
"Restricted administrators cannot delete, move or create plans
Users that have restricted administrator permissions (ie, Studio customers) are able to see the screens to move and delete plans, but when they try to perform the action, they are prevented from doing so due to method level permission checks on PlanManager.    It appears to me that {{ACL_BUILD_ADMIN}} in {{applicationContextAcegiAuthorization}} should be granted to restricted administrators, not just normal administrators.",1
"Git Repository should work with command 'git log'.
from [BSP-4755|https://support.atlassian.com/browse/BSP-4755]    Steps to reproduce:  1) set up a Git plan, for example pointing at ""git://github.com/atlassian/homebrew.git""  1.1) set up branch != ""master"", i.e. ""atlassian-sdk""  1.2) create script task containing ""git log""  2) tick ""clean working directory after each build"" (or ""Force Clean Build"" - doesn't really matter for this issue)  3) run plan (you might need to run it twice to observe the problem)  4a) build will fail with ""fatal: bad default revision 'HEAD'""  4b) where expected behavior is to see git changesets in the logs of the *successful* build",3
"Applink type is not recognised if annonymous access is turned off
 We need to white list /rest/applinks/1.0/manifest. Should also check with integration guys what other URLS need to be publicly available",1
"Creation of trusted apps fails with hibernate exceptions
Hibernate operation: Could not execute JDBC batch update; SQL []; Batch  entry 0 insert into TRUSTED_APPS (APP_ID, PUBLIC_KEY, APP_NAME, TIMEOUT,  TRUSTED_APPS_ID) values ('jira:15489595',  'MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA5wwkHI85p7czkTQCdoDkcA4TKkcF3VC6AHSrXZoMUfIQFE8QRetWipfAob0CMnG+iX0BWn/aPCJkkpHyt7xUNwAsrtHMISdtHovbBWRnE923r6tafzjwnu4sy2O82ogWN0HhSsA/2C15S7IC7rxiFhnpHNrt2UzERgonBbYbYBqvkP/2xz697UwD82Y8Wh7zk3IdPhCiWX6hcHzVLxtzxCj34O+toqLMnHOwW3HDcTue0Qba3nlwZ4fpRwEHZNI1mbDRaOmPRnoAb+jpr9XpO6iM7fDij277P30R6AiJ19oy+YA6z6vkDdVmQYAs7y+qAq0QxtLh4B50lX4oJAp/pwIDAQAB',  NULL, '10000', '327682') was aborted.  Call getNextException to see the  cause.; nested exception is java.sql.BatchUpdateException: Batch entry 0  insert into TRUSTED_APPS (APP_ID, PUBLIC_KEY, APP_NAME, TIMEOUT,  TRUSTED_APPS_ID) values ('jira:15489595',  'MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA5wwkHI85p7czkTQCdoDkcA4TKkcF3VC6AHSrXZoMUfIQFE8QRetWipfAob0CMnG+iX0BWn/aPCJkkpHyt7xUNwAsrtHMISdtHovbBWRnE923r6tafzjwnu4sy2O82ogWN0HhSsA/2C15S7IC7rxiFhnpHNrt2UzERgonBbYbYBqvkP/2xz697UwD82Y8Wh7zk3IdPhCiWX6hcHzVLxtzxCj34O+toqLMnHOwW3HDcTue0Qba3nlwZ4fpRwEHZNI1mbDRaOmPRnoAb+jpr9XpO6iM7fDij277P30R6AiJ19oy+YA6z6vkDdVmQYAs7y+qAq0QxtLh4B50lX4oJAp/pwIDAQAB',  NULL, '10000', '327682') was aborted.  Call getNextException to see the  cause.  ",1
"Expiry for shared artifacts
For us it seems like the global artifact expiry is not affecting the shared artifacts. Because our jobs are producing shared artifacts that are around 1GB big, we are constantly running out of diskspace on the server.     Is there a possibility to outdate the shared artifacts which are stored on the server?",2
"The contents of atlassian-bundled-plugins.zip are retained in memory
I'm seeing in a heap dump of Bamboo from studio.atlassian.com, that the content of {{atlassian-bundled-plugins.zip}} is retained in memory by the Tomcat {{WebappClassLoader}}.    This is a problem that has already been addressed in Confluence (CONF-17511) and JIRA ([JRADEV-6137|https://jdog.atlassian.com/browse/JRADEV-6137]), so a similar solution should be implemented in Bamboo to avoid using the classloader to access the file. This file isn't as large in Bamboo as it is in JIRA and Confluence, but it still is a fairly significant amount of heap space to be wasting, and it is actually considerably bigger on Studio than in a standalone Bamboo (10M in Studio vs. 5.2M normally).",1
"Release status is not synced via rest status call in JIRA Bamboo plugin
Whats happening:  * The OAuth token has expired during a release  * Once the user has done the 3LO dance they are returned to the tab panel  * Tab Panel queries Bamboo, detects that the build has finished (success or failure), releases the jira version  * The frontend code does not update the fact that the version has been released even though the status (released or not) has been sent back via the JSON response",2
"Bamboo returns a JSON response when I submit the ""Edit Artifact Dependency"" dialog using Enter
Steps to reproduce:  # Click Edit on an artifact dependency  # Focus the Destination Directory field and change the text  # Press Enter  # Bamboo briefly shows ""An unknown error has occurred"", and then returns a JSON response (!)    See this video:    http://screencast.com/t/DHniQgeSp",1
"Running a Bamboo Remote Agent service on Windows as a user other than System the parameter passed to the java.io.tmpdir fails the build
When the agent runs as the system, the param for java.io.tmpdir defaults to *C:\WINDOWS\TEMP\<BUILD-KEY>* and the build works just fine.  When I run the agent as a user (trying to get around permissions issues with writing) the param for java.io.tmpdir defaults to *""C:\Documents and Settings\<user-name>\Local Settings\temp\<BUILD-KEY>""*    When the build runs, the first task that runs an Ant script I get a message that says:  {color:red}  BUILD FAILED  Target ""and"" does not exist in project ""<project-name>""{color}    Even though I see that the param being passed is in quotes so the space in the path should be taken care of, that's the only ""and"" I can find in my log.  In the build script ""and"" does not appear anywhere, not even embedded in some other word.",2
"Change the ""not run"" icon in manual stages
nan",1
"agent.error.wrongState is not defined in BambooActionSupport.properties
when removing agent that is building currently",1
"Race condition can create duplicate plan keys, causing Bamboo to fail to start
Looks like a double-post of a create plan form resulted in duplicate plan key creation:    {noformat}  bamboo=# select build_id, buildkey from build;   build_id | buildkey   ----------+----------     393217 | TRUNK    1507329 | JSTMVN    1507330 | JSTMVN     393218 | JOB1  {noformat}    Excerpt from the Bamboo logs at that time:    {noformat}  @400000004e166cf406b6c1f4 2011-07-07 21:35:22,112 INFO [TP-Processor15] [AccessLogFilter] sysadmin POST https://sdog.jira.com/builds/build/admin/create/createPlan.action 103093kb  @400000004e166d0d0c95cb4c 2011-07-07 21:35:47,211 INFO [TP-Processor17] [AccessLogFilter] sysadmin POST https://sdog.jira.com/builds/build/admin/create/createPlan.action 114482kb  @400000004e166d1429151cdc 2011-07-07 21:35:54,685 INFO [TP-Processor15] [PlanCreationTemplate] Creating plan with key: JSTDEV-JSTMVN  @400000004e166d14301380b4 2011-07-07 21:35:54,803 INFO [TP-Processor15] [PlanCreationTemplate] New build created with key JSTDEV-JSTMVN  @400000004e166d1432779bec 2011-07-07 21:35:54,844 INFO [TP-Processor17] [PlanCreationTemplate] Creating plan with key: JSTDEV-JSTMVN  @400000004e166d1434823ce4 2011-07-07 21:35:54,852 ERROR [AtlassianEvent::0-BAM::EVENTS:pool-1-thread-6] [ChainExecutionManagerImpl] Could not start executing Plan 'JSTDEV-JSTMVN' as the plan did not have any stages defined  @400000004e166d14348244b4 2011-07-07 21:35:54,878 ERROR [TP-Processor17] [FiveOhOh] 500 Exception was thrown.  @400000004e166d143482489c org.springframework.dao.IncorrectResultSizeDataAccessException: query did not return a unique result: 2  @400000004e166d143482489c       at org.springframework.orm.hibernate.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:590)  @400000004e166d143482600c       at org.springframework.orm.hibernate.HibernateAccessor.convertHibernateAccessException(HibernateAccessor.java:353)  @400000004e166d14348263f4       at org.springframework.orm.hibernate.HibernateTemplate.execute(HibernateTemplate.java:375)  @400000004e166d14348267dc       at org.springframework.orm.hibernate.HibernateTemplate.execute(HibernateTemplate.java:337)  @400000004e166d1434826bc4       at com.atlassian.bamboo.plan.PlanHibernateDao.getPlanByKey(PlanHibernateDao.java:43)  @400000004e166d1434826fac       at sun.reflect.GeneratedMethodAccessor225.invoke(Unknown Source)  @400000004e166d1434826fac       at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)  @400000004e166d143482871c       at java.lang.reflect.Method.invoke(Method.java:597)  @400000004e166d1434828b04       at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:304)  @400000004e166d1434828b04       at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:182)  @400000004e166d1434828eec       at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:149)  @400000004e166d14348296bc       at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:106)  @400000004e166d14348296bc       at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)  @400000004e166d1434829aa4       at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)  @400000004e166d1434829e8c       at $Proxy7.getPlanByKey(Unknown Source)  @400000004e166d1434829e8c       at com.atlassian.bamboo.plan.PlanManagerImpl.getPlanByKey(PlanManagerImpl.java:91)  @400000004e166d143482a274       at com.atlassian.bamboo.plan.PlanManagerImpl.getPlanByKey(PlanManagerImpl.java:85)  {noformat}    This completely breaks Bamboo. It can no longer even start up without throwing the {{IncorrectResultSizeDataAccessException}}.    Ideally, the uniqueness of this key should be enforced via a database constraint.",2
"Modify Bamboo and Bamboo agents to first use the JAVA_HOME variable when starting
Some users report that Bamboo starts using the first java command on the PATH, rather than respecting the exported JAVA_HOME varible.    This is inconsistent iwth other Atlassian tools, for example, JIRA, which look at the JAVA_HOME variable when starting.    We need to test this behaviour for:  # Bamboo server itself  # Bamboo agents.    For more information that caused this issue see:  https://jira.atlassian.com/browse/BAM-9284?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=258775#comment-258775",1
"JBAM Builds Versions tab panel breaks when no issues associated with version
The related builds by date filter when looking at the builds for a specific version causes null pointer exceptions in bamboo when there are no issues with that version.  Fix is required on Bamboo side to avoid null pointers, and maybe on jira side to prevent it from making an unecessary call in the first place.      {code}  2011-07-22 14:59:23,616 INFO [qtp1872676077-17] [AccessLogFilter] admin POST http://brydie:8085/bamboo/ajax/build/viewBuildResultsByJiraKey.action 25253kb  2011-07-22 14:59:23,620 ERROR [qtp1872676077-17] [FiveOhOh] 500 Exception was thrown.  java.lang.NullPointerException    com.atlassian.bamboo.plugins.jiraPlugin.actions.ajax.ViewBuildResultsByJiraKey.execute(ViewBuildResultsByJiraKey.java:42)    sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)    sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)    sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)    java.lang.reflect.Method.invoke(Method.java:597)  {code}",1
"Maven dependency task cannot handle Maven3 projects
Bamboo embeds Maven 2.1.0 to read project metadata for the Automatic Dependency task. This version of Maven has problems reading POM and metadata files built with Maven 3.0.x.    This change cannot be back ported to 3.2.x as changing the Maven version has certain risks attached to it that can only be mitigated by a full release of Bamboo by running through teams quality control process.",5
"""An unexpected error has occurred"" after clicking a link to a JIRA issue
nan",1
"Cannot install plugins onto JBAC using the UPM in Chrome
Firefox works fine, but when I try to install a plugin using Chrome the installer popup appears and then never finishes    JBAC is currently using: Atlassian Bamboo version 3.2 build 2600 - 20 Jul 11",1
"Stop distributing the user management files at <Bamboo-Install>/webapp/WEB-INF/classes/
Bamboo 3.2 users the Crowd/LDAP files located at *<Bamboo-Home-Dir>/xml-data/configuration/*    However we are still distributing them at *<Bamboo-Install>/webapp/WEB-INF/classes/*",1
"Webresources from servlets leak onto the next page
When the UPM UI is viewed, followed by any other UI the UPM resources are also included on the next page. This can be seen quite easily by looking at the html that is output.    From a bit of investigation com.atlassian.bamboo.filter.RequestCacheThreadLocalFilter should be run for any request that returns html to clear the webResource cache. It is only shown for .action or /s/*     Fragment from web.xml    {code:xml}    <filter-mapping>      <filter-name>requestCache</filter-name>      <url-pattern>/s/*</url-pattern>      <dispatcher>REQUEST</dispatcher>      <dispatcher>FORWARD</dispatcher>    </filter-mapping>      <filter-mapping>      <filter-name>requestCache</filter-name>      <url-pattern>*.action</url-pattern>      <dispatcher>REQUEST</dispatcher>      <dispatcher>FORWARD</dispatcher>    </filter-mapping>    <filter>       <filter-name>requestCache</filter-name>      <filter-class>com.atlassian.bamboo.filter.RequestCacheThreadLocalFilter</filter-class>    </filter>  {code}    Adding /plugins/servlet/* as a filter mapping would solve the issue I was running into (the same script being included multiple times)",2
"Bamboo does not start on OpenJDK 7
Captcha depends on SUN packages.    {noformat}  2011-08-01 11:06:01,314 INFO [main] [BrokerService] ActiveMQ JMS Message Broker (bamboo, ID:barnard.local-62860-1312160747729-0:1) stopped  2011-08-01 11:06:01,316 INFO [main] [ConfigurableLocalSessionFactoryBean] Closing Hibernate SessionFactory  2011-08-01 11:06:01,320 ERROR [main] [ContextLoader] Context initialization failed  org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'imageCaptchaService' defined in class path resource [applicationContextCaptcha.xml]: Cannot resolve reference to bean 'captchaEngine' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'captchaEngine' defined in class path resource [applicationContextCaptcha.xml]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [com.atlassian.bamboo.captcha.AtlassianGimpyEngine]: Constructor threw exception; nested exception is java.lang.NoClassDefFoundError: com/sun/image/codec/jpeg/ImageFormatException  Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'captchaEngine' defined in class path resource [applicationContextCaptcha.xml]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [com.atlassian.bamboo.captcha.AtlassianGimpyEngine]: Constructor threw exception; nested exception is java.lang.NoClassDefFoundError: com/sun/image/codec/jpeg/ImageFormatException  Caused by: org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [com.atlassian.bamboo.captcha.AtlassianGimpyEngine]: Constructor threw exception; nested exception is java.lang.NoClassDefFoundError: com/sun/image/codec/jpeg/ImageFormatException  Caused by: java.lang.NoClassDefFoundError: com/sun/image/codec/jpeg/ImageFormatException    java.lang.Class.forName0(Native Method)    java.lang.Class.forName(Class.java:186)    com.octo.captcha.image.gimpy.GimpyFactory.class$(GimpyFactory.java:30)    com.octo.captcha.image.gimpy.GimpyFactory.<clinit>(GimpyFactory.java:30)    com.atlassian.bamboo.captcha.AtlassianGimpyEngine.buildInitialFactories(AtlassianGimpyEngine.java:59)    com.octo.captcha.engine.image.ListImageCaptchaEngine.<init>(ListImageCaptchaEngine.java:24)    com.atlassian.bamboo.captcha.AtlassianGimpyEngine.<init>(AtlassianGimpyEngine.java:28)    sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)    sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)    sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)    java.lang.reflect.Constructor.newInstance(Constructor.java:525)    org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:85)    org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:61)    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:752)    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:717)    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:386)    org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:249)    org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:155)    org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:246)    org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:160)    org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:267)    org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:110)    org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:389)    org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:120)    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:795)    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:713)    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:386)    org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:249)    org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:155)    org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:246)    org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:160)    org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:291)    org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:352)    org.springframework.web.context.ContextLoader.createWebApplicationContext(ContextLoader.java:245)    org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:188)    org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:49)    com.atlassian.spring.container.ContainerContextLoaderListener.contextInitialized(ContainerContextLoaderListener.java:32)    org.eclipse.jetty.server.handler.ContextHandler.startContext(ContextHandler.java:633)    org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:228)    org.eclipse.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1160)    org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:576)    org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:492)    org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:55)    org.eclipse.jetty.server.handler.HandlerWrapper.doStart(HandlerWrapper.java:93)    org.eclipse.jetty.server.Server.doStart(Server.java:243)    org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:55)    com.atlassian.bamboo.server.Server.main(Server.java:77)  Caused by: java.lang.ClassNotFoundException: com.sun.image.codec.jpeg.ImageFormatException    java.net.URLClassLoader$1.run(URLClassLoader.java:366)    java.net.URLClassLoader$1.run(URLClassLoader.java:355)    java.security.AccessController.doPrivileged(Native Method)    java.net.URLClassLoader.findClass(URLClassLoader.java:354)    java.lang.ClassLoader.loadClass(ClassLoader.java:423)    sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)    java.lang.ClassLoader.loadClass(ClassLoader.java:356)  	... 47 more  2011-08-01 11:06:01,326 WARN [main] [log] Failed startup of context WebAppContext@2ba42999@2ba42999/bamboo,file:/Users/jdumay/code/bamboo/components/bamboo-web-app/src/main/webapp/,/Users/jdumay/code/bamboo/components/bamboo-web-app/src/main/webapp  org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'imageCaptchaService' defined in class path resource [applicationContextCaptcha.xml]: Cannot resolve reference to bean 'captchaEngine' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'captchaEngine' defined in class path resource [applicationContextCaptcha.xml]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [com.atlassian.bamboo.captcha.AtlassianGimpyEngine]: Constructor threw exception; nested exception is java.lang.NoClassDefFoundError: com/sun/image/codec/jpeg/ImageFormatException  Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'captchaEngine' defined in class path resource [applicationContextCaptcha.xml]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [com.atlassian.bamboo.captcha.AtlassianGimpyEngine]: Constructor threw exception; nested exception is java.lang.NoClassDefFoundError: com/sun/image/codec/jpeg/ImageFormatException  Caused by: org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [com.atlassian.bamboo.captcha.AtlassianGimpyEngine]: Constructor threw exception; nested exception is java.lang.NoClassDefFoundError: com/sun/image/codec/jpeg/ImageFormatException  Caused by: java.lang.NoClassDefFoundError: com/sun/image/codec/jpeg/ImageFormatException    java.lang.Class.forName0(Native Method)    java.lang.Class.forName(Class.java:186)    com.octo.captcha.image.gimpy.GimpyFactory.class$(GimpyFactory.java:30)    com.octo.captcha.image.gimpy.GimpyFactory.<clinit>(GimpyFactory.java:30)    com.atlassian.bamboo.captcha.AtlassianGimpyEngine.buildInitialFactories(AtlassianGimpyEngine.java:59)    com.octo.captcha.engine.image.ListImageCaptchaEngine.<init>(ListImageCaptchaEngine.java:24)    com.atlassian.bamboo.captcha.AtlassianGimpyEngine.<init>(AtlassianGimpyEngine.java:28)    sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)    sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)    sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)    java.lang.reflect.Constructor.newInstance(Constructor.java:525)    org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:85)    org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:61)    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:752)    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:717)    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:386)    org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:249)    org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:155)    org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:246)    org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:160)    org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:267)    org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:110)    org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:389)    org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:120)    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:795)    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:713)    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:386)    org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:249)    org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:155)    org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:246)    org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:160)    org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:291)    org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:352)    org.springframework.web.context.ContextLoader.createWebApplicationContext(ContextLoader.java:245)    org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:188)    org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:49)    com.atlassian.spring.container.ContainerContextLoaderListener.contextInitialized(ContainerContextLoaderListener.java:32)    org.eclipse.jetty.server.handler.ContextHandler.startContext(ContextHandler.java:633)    org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:228)    org.eclipse.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1160)    org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:576)    org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:492)    org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:55)    org.eclipse.jetty.server.handler.HandlerWrapper.doStart(HandlerWrapper.java:93)    org.eclipse.jetty.server.Server.doStart(Server.java:243)    org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:55)    com.atlassian.bamboo.server.Server.main(Server.java:77)  Caused by: java.lang.ClassNotFoundException: com.sun.image.codec.jpeg.ImageFormatException    java.net.URLClassLoader$1.run(URLClassLoader.java:366)    java.net.URLClassLoader$1.run(URLClassLoader.java:355)    java.security.AccessController.doPrivileged(Native Method)    java.net.URLClassLoader.findClass(URLClassLoader.java:354)    java.lang.ClassLoader.loadClass(ClassLoader.java:423)    sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)    java.lang.ClassLoader.loadClass(ClassLoader.java:356)  	... 47 more  2011-08-01 11:06:01,343 INFO [main] [log] Started SelectChannelConnector@0.0.0.0:9087  ****************************************************************  *                                                              *  * You can see Bamboo by visiting http://localhost:9087/bamboo  *                                                              *  ****************************************************************  {noformat}",5
"Prevent failure of the 2511 upgrade task
{code}  2011-07-30 11:54:53,085 INFO [1-UpgradeTaskBackgroundThread:pool-7-thread-1] [AbstractUpgradeManager] ---------------------------------------------------------------------------  2011-07-30 11:54:53,085 INFO [1-UpgradeTaskBackgroundThread:pool-7-thread-1] [AbstractUpgradeManager] Running upgrade task 2511 : Upgrade JIRA server configuration to UAL config  2011-07-30 11:54:53,085 INFO [1-UpgradeTaskBackgroundThread:pool-7-thread-1] [AbstractUpgradeManager] ---------------------------------------------------------------------------  2011-07-30 11:54:54,164 ERROR [1-UpgradeTaskBackgroundThread:pool-7-thread-1] [AbstractUpgradeManager] java.lang.IllegalArgumentException: Application with server ID 3c74886c-6074-30a4-a22d-dcc12346ba68 is already configured  java.lang.IllegalArgumentException: Application with server ID 3c74886c-6074-30a4-a22d-dcc12346ba68 is already configured  at com.atlassian.applinks.core.DefaultApplicationLinkService.addApplicationLink(DefaultApplicationLinkService.java:201)  at com.atlassian.applinks.core.DefaultApplicationLinkService.createApplicationLink(DefaultApplicationLinkService.java:638)  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)  at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)  at java.lang.reflect.Method.invoke(Method.java:597)  at com.atlassian.applinks.host.OsgiServiceProxyFactory$DynamicServiceInvocationHandler.invoke(OsgiServiceProxyFactory.java:111)  at $Proxy32.createApplicationLink(Unknown Source)  at com.atlassian.bamboo.applinks.JiraApplinksServiceImpl.createJiraApplinkWithBasicAuthentication(JiraApplinksServiceImpl.java:77)  at com.atlassian.bamboo.upgrade.tasks.UpgradeTask2511UpgradeJiraServerConfig.doUpgrade(UpgradeTask2511UpgradeJiraServerConfig.java:65)  at com.atlassian.bamboo.upgrade.tasks.AbstractInHibernateTransactionUpgradeTask$1.doInHibernateTransaction(AbstractInHibernateTransactionUpgradeTask.java:40)  at com.atlassian.bamboo.persistence.BambooConnectionTemplate$1$1.doInHibernate(BambooConnectionTemplate.java:51)  at org.springframework.orm.hibernate.HibernateTemplate.execute(HibernateTemplate.java:370)  at com.atlassian.bamboo.persistence.BambooConnectionTemplate$1.doInTransactionWithoutResult(BambooConnectionTemplate.java:44)  at org.springframework.transaction.support.TransactionCallbackWithoutResult.doInTransaction(TransactionCallbackWithoutResult.java:33)  at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:127)  at com.atlassian.bamboo.persistence.BambooConnectionTemplate.execute(BambooConnectionTemplate.java:39)  at com.atlassian.bamboo.upgrade.tasks.AbstractInHibernateTransactionUpgradeTask.doUpgrade(AbstractInHibernateTransactionUpgradeTask.java:36)  at com.atlassian.bamboo.upgrade.AbstractUpgradeManager.runUpgradeTask(AbstractUpgradeManager.java:175)  at com.atlassian.bamboo.upgrade.UpgradeManagerImpl.doUpgrade(UpgradeManagerImpl.java:72)  at com.atlassian.bamboo.upgrade.UpgradeLauncher$1.call(UpgradeLauncher.java:115)  at com.atlassian.bamboo.upgrade.UpgradeLauncher$1.call(UpgradeLauncher.java:112)  at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)  at java.util.concurrent.FutureTask.run(FutureTask.java:138)  at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)  at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)  at java.util.concurrent.FutureTask.run(FutureTask.java:138)  at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)  at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)  at com.atlassian.bamboo.build.pipeline.concurrent.NamedThreadFactory$2.run(NamedThreadFactory.java:50)  at java.lang.Thread.run(Thread.java:662)  2011-07-30 11:54:54,165 INFO [1-UpgradeTaskBackgroundThread:pool-7-thread-1] [AbstractUpgradeManager] Completed upgrade task 2511 with errors.  2011-07-30 11:54:54,166 FATAL [main] [UpgradeLauncher] Upgrade task error: Upgrade task for build 2511 failed with exception: Application with server ID 3c74886c-6074-30a4-a22d-dcc12346ba68 is already configured  {code}    Currently, we know that the recommendation from [this KB Article|http://confluence.atlassian.com/display/BAMKB/Bamboo+3.2+Upgrade+Fails+on+UAL+Upgrade+Task] can fix the problem.",2
"BRMP incompatible with Bamboo 3.2
Following error is recorded when loading the BRMP plugin (Version 2.0.4 or 2.0.1)  in Bamboo 3.2:    {code}  2011-08-01 11:49:35,400 ERROR [qtp744758938-11] [DefaultPluginManager] Exception when retrieving plugin module brmpPlanConfiguration, will disable plugin com.atlassian.bamboo.plugins.bamboo-release-management-plugin  org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'com.atlassian.bamboo.plugins.brmp.config.ReleaseManagementConfigurator': Instantiation of bean failed; nested exception is java.lang.NoClassDefFoundError: com/atlassian/bamboo/jira/jiraserver/JiraServerManager  Caused by: java.lang.NoClassDefFoundError: com/atlassian/bamboo/jira/jiraserver/JiraServerManager          at java.lang.Class.getDeclaredMethods0(Native Method)          at java.lang.Class.privateGetDeclaredMethods(Class.java:2427)          at java.lang.Class.privateGetPublicMethods(Class.java:2547)          .....          .....  Caused by: java.lang.ClassNotFoundException: com.atlassian.bamboo.jira.jiraserver.JiraServerManager          at java.net.URLClassLoader$1.run(URLClassLoader.java:202)          at java.security.AccessController.doPrivileged(Native Method)          at java.net.URLClassLoader.findClass(URLClassLoader.java:190){code}  ",3
"Configuring OAuth Consumers document is out of date
In Bamboo 3.2, in order to setup an OAuth consumer you need to first trust 2 applications, and then you'll able to add an OAuth consumer.    This document is out of date:     http://confluence.atlassian.com/display/BAMBOO/Configuring+OAuth+Consumers    It says on Step 3: _In the left-hand menu, under the title 'Gadgets', click the 'OAuth Consumers' link. The 'OAuth Administration' page will be displayed, showing a list of configured OAuth Consumers (if any exist)._    There is no such option under the Gadgets section, only ""Available Gadgets"", and that page has no OAuth links either.",1
"Release feature in  JIRA  and Bamboo with trusted application not working properly
When User configure trusted application to communicate between JIRA and Bamboo. The feature release version will not work properly. The JIRA will not show the following in the UI   !bamboojira.png|thumbnail!    This problem does not happen when using basic authentication in application link. As a workaround user can try with basic authentication.jira",5
"Mercurial Repository should correctly filter changesets since last build (even if there was more than 100 changesets)
http://tardigrade.sydney.atlassian.com:8085/bamboo/browse/BAM-EXT-4049    on bamboo-hg repository,  lastVcsRevisionKey = 1c969a8270b7b6b70ff7f855a31fde22d3abae0c (Marcin Gardias code change)  currentRevisionKey = 06998bc525a291de042309b8972e5d743d491d8b (Krystian's merge)    between those two revisions Bamboo has found 106 code changes. Due to hard limit (100 changeset parsed for the build, no more) the Mercurial Repository falsely filters out the not-relevant changesets to current branch:  bq. The Mercurial Plugin might incorrectly report the changesets triggering the build *if* there was more than 100 (HgRepository.CHANGESET_LIMIT) changes between the last build. The Mercurial Plugin will just have not enough information to traverse the changeset graph properly and will in defense report all changesets between, even those non-related to the built branch.  Code responsible is near here: [HgCommandProcessor.filterOutUnreachableChangesets|https://atlaseye.atlassian.com/browse/bamboo-hg/components/bamboo-plugins/bamboo-plugin-mercurial/src/main/java/com/atlassian/bamboo/plugins/hg/HgCommandProcessor.java?r=d8b981d129d0#to384]    I'm raising this issue so we can have a look at in in better detail.",2
"Error summary does not match actual error log when rerunning
The Error Summary shows a build failure, but when I click through the build was actually successful. Looks like the job was retried but the old error summary still shows.        ",1
"JBAM - Socket time outs after 10 seconds
When talking to tardigrade from a JIRA Standalone instance I keep getting socket time out exceptions after 10 seconds. This is happening a lot.  Not sure if the core problem is Tardigrade fro taking too long or the Plugin should be waiting longer than that for a response.    The error message is not that friendly either.    ",1
"On restart non default project -> Bamboo servers links aren't used
If you have two links to Bamboo and you have a project that points to the non-default App Link, this will not be respected on a restart.    You need to go to the Bamboo config screen and resave the configuration for it work again",2
"Handle empty destination directories correctly for artifacts when using Oracle
Currently, the Destination directory option in Artifact Dependency can be left as empty.    This does not work when using Oracle.    Producing artifacts works well, but when a job from a later stage tries to use the artifacts and error occurs.    As Oracle cannot handle storing empty strings, the directory is stored as NULL instead.    It looks like Bamboo fails to deal with NULLs for a destination directory when retrieving and using the value:    {code}  java.lang.NullPointerException  at java.io.File.<init>(File.java:305)  at com.atlassian.bamboo.build.artifact.LocalArtifactManager.retrieve(LocalArtifactManager.java:74)  at com.atlassian.bamboo.build.pipeline.tasks.PrepareBuildTask.prepareArtifacts(PrepareBuildTask.java:100)  at com.atlassian.bamboo.build.pipeline.tasks.PrepareBuildTask.call(PrepareBuildTask.java:50)  {code}    The problem happens during execution of the second stage, even though no actual build action is being performed. The bamboo-home/artifacts directory is present, and the artifact is created correctly.    If the directory the artifact should be referenced from in stage 2 is changed, another nullpointerexception happens:    {code}  2011-08-29 17:14:30,361 ERROR [qtp470279362-11] [FiveOhOh] 500 Exception was thrown.  java.lang.NullPointerException  at com.atlassian.bamboo.ww2.actions.build.admin.config.ConfigureArtifactSubscription.isSubscriptionUnique(ConfigureArtifactSubscription.java:158)  at com.atlassian.bamboo.ww2.actions.build.admin.config.ConfigureArtifactSubscription.validateSubscription(ConfigureArtifactSubscription.java:147)  {code}       ",1
"When retrying a release with the release management plugin, default plan variables displayed are not used in the build
We have a bamboo plan for our ""release"" which runs the maven-release-plugin to actually release our software.  We define the plan with two plan variables: ""thisVersion"" and ""nextVersion"".      Steps to reproduce:  # Go to a JIRA version for the project we want to release, go to the ""release"" tab, and click to release this JIRA version using the bamboo release plugin  # select ""release with new build"" and choose the correct bamboo plan (the release plan with the custom variables)  # Click the link to type a value for the variable ""thisVersion"" and enter a value of 1.1.0  # Click the link to type a value for the variable ""nextVersion"" and enter a value of 1.2.0.M1-SNAPSHOT  # Click Release  \\  The plan will fire.  If the plan fails, then it is displayed as failing in JIRA and there is a button to ""retry""  \\  # Click Retry and the same release plugin popup will be displayed with the previously selected values already filled out except for these problems:    * *while there are two rows for each of the two plan variables we previously input, the variable name in the dropdown is the same for each*.  It lists both variable names as ""nextVersion"", even though we originally selected the drop downs as ""thisVersion"" for the first, and ""nextVersion"" for the second.  ** Note that the correct values, however, are still present in the text boxes.  Thus when you see the screen (and I forgot to get a screenshot) you see in the first row a select box with ""nextVersion"" but with a value of 1.1.0.  And the second row has (again) ""nextVersion"" in the drop down and the text box value of 1.2.0.M1-SNAPSHOT.  Thus, it persisted the text box values correctly but not the drop down selections correctly.  * If you only change the value of the first drop down -- i.e. change the first drop down from ""nextVersion"" to ""thisVersion"" (which is how we originally filled it out) and don't touch the second drop down box at all -- then it will _only_ set the ""thisVersion"" plan variable (the drop down that we physically clicked and changed).  It will _not_ submit the ""nextVersion"" variable value to the plan, despite appearing exactly as it did when we originally filled out the form.    This of course made my plan fail a second time as the maven-release plugin needs the ""nextVersion"" value, and since I don't have a default maven fails because the next version is """" (empty string).    I went back to the Jira Version -> release page and ""retried"" a third time.  Again I was presented with a form that had both drop downs displayed as ""nextVersion"".  I clicked the first row drop down and changed it to to the correct ""thisVersion"" variable.  Then I clicked the second row (currently ""nextVersion""), deliberately changed it to ""thisVersion"" and then clicked again to change it back to ""nextVersion"".  I left the text box values alone -- as they were already correct.    I submitted this and it worked perfectly.    Thus, by clicking the second row dropdown and changing it and changing it back is a valid workaround.  This seems pretty minor as there is an easy workaround and it seems to only be a problem whenever a release build fails, which is probably rare.",2
"Oauth Access Token and Plugin Manager option is broken when Bamboo integrate with LDAP with the cache attribute is set to false
Currently, if Bamboo integrated with LDAP using the atlassian-user.xml with the LDAP repository cache is set to false example shown below:  {code}   <ldap key=""adRepository"" name=""AD Repository"" cache=""false"">  {code}    With the cache is turn off, when user click on the *Oauth Access Token* and *Plugin Manage* option will throw the following exception and user will be direct to the login page:  {code}  2011-09-02 18:04:56,842 ERROR [qtp33513127-17] [LDAPUserManagerReadOnly] Error retrieving user: 'zed2' from LDAP.  com.atlassian.user.impl.RepositoryException: javax.naming.NoInitialContextException: Cannot instantiate class: com.sun.jndi.ldap.LdapCtxFactory [Root exception is java.lang.ClassNotFoundException: com.sun.jndi.ldap.LdapCtxFactory not found from bundle [com.atlassian.oauth.atlassian-oauth-service-provider-plugin]]    com.atlassian.user.impl.ldap.repository.DefaultLdapContextFactory.getLDAPContext(DefaultLdapContextFactory.java:91)    com.atlassian.user.impl.ldap.search.DefaultLDAPUserAdaptor.search(DefaultLDAPUserAdaptor.java:70)    com.atlassian.user.impl.ldap.search.DefaultLDAPUserAdaptor.search(DefaultLDAPUserAdaptor.java:54)    com.atlassian.user.impl.ldap.LDAPUserManagerReadOnly.getUser(LDAPUserManagerReadOnly.java:70)    com.atlassian.user.impl.delegation.DelegatingListUserManager.getUser(DelegatingListUserManager.java:71)    sun.reflect.GeneratedMethodAccessor177.invoke(Unknown Source)    sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)    java.lang.reflect.Method.invoke(Unknown Source)    com.atlassian.crowd.integration.atlassianuser.DynamicDelegationAccessor$DelegatingInvocationHandler.invoke(DynamicDelegationAccessor.java:115)    $Proxy16.getUser(Unknown Source)    bucket.user.DefaultUserAccessor.getUser(DefaultUserAccessor.java:147)    com.atlassian.bamboo.user.BambooUserManagerImpl.getUser(BambooUserManagerImpl.java:103)    sun.reflect.GeneratedMethodAccessor178.invoke(Unknown Source)    sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)    java.lang.reflect.Method.invoke(Unknown Source)    org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:304)    org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:182)    org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:149)    org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:106)    org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)    org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)    $Proxy25.getUser(Unknown Source)    com.atlassian.bamboo.user.authentication.BambooAuthenticator.getUser(BambooAuthenticator.java:48)    com.atlassian.seraph.auth.DefaultAuthenticator.refreshPrincipalObtainedFromSession(DefaultAuthenticator.java:365)    com.atlassian.seraph.auth.DefaultAuthenticator.getUserFromSession(DefaultAuthenticator.java:404)    com.atlassian.seraph.auth.DefaultAuthenticator.getUser(DefaultAuthenticator.java:318)    com.atlassian.seraph.auth.AbstractAuthenticator.getUser(AbstractAuthenticator.java:45)    com.atlassian.seraph.auth.AbstractAuthenticator.getRemoteUser(AbstractAuthenticator.java:33)    com.atlassian.sal.bamboo.user.BambooSalUserManager.getRemoteUsername(BambooSalUserManager.java:69)    sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)    sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)    sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)    java.lang.reflect.Method.invoke(Unknown Source)    org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:307)    org.springframework.osgi.service.importer.support.internal.aop.ServiceInvoker.doInvoke(ServiceInvoker.java:58)    org.springframework.osgi.service.importer.support.internal.aop.ServiceInvoker.invoke(ServiceInvoker.java:62)    org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)    org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:131)    org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:119)    org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)    org.springframework.osgi.service.util.internal.aop.ServiceTCCLInterceptor.invokeUnprivileged(ServiceTCCLInterceptor.java:56)    org.springframework.osgi.service.util.internal.aop.ServiceTCCLInterceptor.invoke(ServiceTCCLInterceptor.java:39)    org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)    org.springframework.osgi.service.importer.support.LocalBundleContextAdvice.invoke(LocalBundleContextAdvice.java:59)    org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)    org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:131)    org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:119)    org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)    org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)    $Proxy239.getRemoteUsername(Unknown Source)    com.atlassian.oauth.serviceprovider.internal.servlet.user.AccessTokensServlet.doGet(AccessTokensServlet.java:49)    javax.servlet.http.HttpServlet.service(HttpServlet.java:707)    javax.servlet.http.HttpServlet.service(HttpServlet.java:820)    com.atlassian.plugin.servlet.DelegatingPluginServlet.service(DelegatingPluginServlet.java:42)    javax.servlet.http.HttpServlet.service(HttpServlet.java:820)    com.atlassian.plugin.servlet.ServletModuleContainerServlet.service(ServletModuleContainerServlet.java:52)    javax.servlet.http.HttpServlet.service(HttpServlet.java:820)    org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:534)    org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1351)    com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)    com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)    com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:25)    com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)    com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)    com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)    com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)    org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1322)    com.opensymphony.module.sitemesh.filter.PageFilter.parsePage(PageFilter.java:118)    com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:52)    org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1322)    com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)    com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)    com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)    org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1322)    com.atlassian.bamboo.filter.AccessLogFilter.doFilter(AccessLogFilter.java:66)    org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1322)    org.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:265)    org.acegisecurity.providers.anonymous.AnonymousProcessingFilter.doFilter(AnonymousProcessingFilter.java:125)    org.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:275)    com.atlassian.bamboo.filter.SeraphLoginFilter.doFilter(SeraphLoginFilter.java:74)    org.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:275)    org.acegisecurity.util.FilterChainProxy.doFilter(FilterChainProxy.java:149)    org.acegisecurity.util.FilterToBeanProxy.doFilter(FilterToBeanProxy.java:98)    com.atlassian.bamboo.filter.BambooAcegiProxyFilter.doFilter(BambooAcegiProxyFilter.java:25)    org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1322)    com.atlassian.bamboo.filter.LicenseFilter.doFilter(LicenseFilter.java:73)    com.atlassian.core.filters.AbstractHttpFilter.doFilter(AbstractHttpFilter.java:31)    org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1322)    com.atlassian.johnson.filters.AbstractJohnsonFilter.doFilter(AbstractJohnsonFilter.java:71)    org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1322)    com.atlassian.seraph.filter.SecurityFilter.doFilter(SecurityFilter.java:211)    org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1322)    com.atlassian.seraph.filter.BaseLoginFilter.doFilter(BaseLoginFilter.java:150)    org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1322)    com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)    com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)    com.atlassian.oauth.serviceprovider.internal.servlet.OAuthFilter.doFilter(OAuthFilter.java:71)    com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)    com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)    com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)    com.atlassian.security.auth.trustedapps.filter.TrustedApplicationsFilter.doFilter(TrustedApplicationsFilter.java:98)    com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)    com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)    com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)    com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)    org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1322)    org.springframework.orm.hibernate.support.OpenSessionInViewFilter.doFilterInternal(OpenSessionInViewFilter.java:170)    com.atlassian.bamboo.persistence.BambooSessionInViewFilter.doFilterInternal(BambooSessionInViewFilter.java:31)    org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:75)    org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1322)    com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)    com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)    com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)    org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1322)    org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:96)    org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:75)    org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1322)    org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:473)    org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:119)    org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:516)    org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:226)    org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:921)    org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:403)    org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:184)    org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:856)    org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:117)    org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:114)    org.eclipse.jetty.server.Server.handle(Server.java:352)    org.eclipse.jetty.server.HttpConnection.handleRequest(HttpConnection.java:596)    org.eclipse.jetty.server.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:1052)    org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:590)    org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:212)    org.eclipse.jetty.server.HttpConnection.handle(HttpConnection.java:426)    org.eclipse.jetty.io.nio.SelectChannelEndPoint.handle(SelectChannelEndPoint.java:510)    org.eclipse.jetty.io.nio.SelectChannelEndPoint.access$000(SelectChannelEndPoint.java:34)    org.eclipse.jetty.io.nio.SelectChannelEndPoint$1.run(SelectChannelEndPoint.java:40)    org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:450)    java.lang.Thread.run(Unknown Source)  Caused by: javax.naming.NoInitialContextException: Cannot instantiate class: com.sun.jndi.ldap.LdapCtxFactory [Root exception is java.lang.ClassNotFoundException: com.sun.jndi.ldap.LdapCtxFactory not found from bundle [com.atlassian.oauth.atlassian-oauth-service-provider-plugin]]    javax.naming.spi.NamingManager.getInitialContext(Unknown Source)    javax.naming.InitialContext.getDefaultInitCtx(Unknown Source)    javax.naming.InitialContext.init(Unknown Source)    javax.naming.InitialContext.<init>(Unknown Source)    javax.naming.directory.InitialDirContext.<init>(Unknown Source)    com.atlassian.user.impl.ldap.repository.DefaultLdapContextFactory.getLDAPContext(DefaultLdapContextFactory.java:87)  	... 137 more  Caused by: java.lang.ClassNotFoundException: com.sun.jndi.ldap.LdapCtxFactory not found from bundle [com.atlassian.oauth.atlassian-oauth-service-provider-plugin]    org.springframework.osgi.util.BundleDelegatingClassLoader.findClass(BundleDelegatingClassLoader.java:103)    org.springframework.osgi.util.BundleDelegatingClassLoader.loadClass(BundleDelegatingClassLoader.java:156)    java.lang.ClassLoader.loadClass(Unknown Source)    java.lang.Class.forName0(Native Method)    java.lang.Class.forName(Unknown Source)    com.sun.naming.internal.VersionHelper12.loadClass(Unknown Source)  	... 143 more  Caused by: java.lang.ClassNotFoundException: com.sun.jndi.ldap.LdapCtxFactory    org.apache.felix.framework.ModuleImpl.findClassOrResourceByDelegation(ModuleImpl.java:772)    org.apache.felix.framework.ModuleImpl.access$200(ModuleImpl.java:73)    org.apache.felix.framework.ModuleImpl$ModuleClassLoader.loadClass(ModuleImpl.java:1690)    java.lang.ClassLoader.loadClass(Unknown Source)    org.apache.felix.framework.ModuleImpl.getClassByDelegation(ModuleImpl.java:634)    org.apache.felix.framework.Felix.loadBundleClass(Felix.java:1594)    org.apache.felix.framework.BundleImpl.loadClass(BundleImpl.java:887)    org.springframework.osgi.util.BundleDelegatingClassLoader.findClass(BundleDelegatingClassLoader.java:99)  	... 148 more  {code}    The current workaround is to set the LDAP repository cache=""true"" as shown below:  {code}  <ldap key=""adRepository"" name=""AD Repository"" cache=""true"">  {code}    The problem only happens with LDAP user only",3
"Possible race condition for build label addition
A couple of days ago we started getting error messages back from many of our builds along the lines of the following:  {noformat}  System Error Details  xxx - 6. yyy - Default Job 10 : Build Labeller custom build post complete action failed to run   (java.lang.RuntimeException : Cannot add label '15_0_05_0917' to build results 'xxxxx-yyy-JOB1-10')    Occurred: 02 Sep 2011, 6:02:53 AM  java.lang.RuntimeException: Cannot add label '15_0_05_0917' to build results 'xxx-yyy-JOB1-10'    com.atlassian.bamboo.labels.LabelManagerImpl.addLabel(LabelManagerImpl.java:92)    sun.reflect.GeneratedMethodAccessor1147.invoke(Unknown Source)    sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)    java.lang.reflect.Method.invoke(Method.java:597)    org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:304)    org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:182)    org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:149)    org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:106)    org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)    org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)    $Proxy42.addLabel(Unknown Source)    sun.reflect.GeneratedMethodAccessor1147.invoke(Unknown Source)    sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)    java.lang.reflect.Method.invoke(Method.java:597)    org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:304)    org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:182)    org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:149)    com.atlassian.bamboo.security.acegi.intercept.aopalliance.AuthorityOverrideMethodSecurityInterceptor.invoke(AuthorityOverrideMethodSecurityInterceptor.java:30)    org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)    org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)    $Proxy42.addLabel(Unknown Source)    com.atlassian.bamboo.plugins.labeller.BuildLabeller.labelBuildResult(BuildLabeller.java:304)    com.atlassian.bamboo.plugins.labeller.BuildLabeller.labelBuildResult(BuildLabeller.java:291)    com.atlassian.bamboo.plugins.labeller.BuildLabeller.call(BuildLabeller.java:85)    sun.reflect.GeneratedMethodAccessor712.invoke(Unknown Source)    sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)    java.lang.reflect.Method.invoke(Method.java:597)    org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:304)    org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:182)    org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:149)    org.springframework.orm.hibernate.HibernateInterceptor.invoke(HibernateInterceptor.java:117)    org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)    org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)    $Proxy362.call(Unknown Source)    com.atlassian.bamboo.v2.build.events.PostBuildCompletedEventListener$1.run(PostBuildCompletedEventListener.java:71)    com.atlassian.bamboo.variable.CustomVariableContextRunnerImpl.execute(CustomVariableContextRunnerImpl.java:25)    com.atlassian.bamboo.v2.build.events.PostBuildCompletedEventListener.performAction(PostBuildCompletedEventListener.java:52)    com.atlassian.bamboo.v2.build.events.PostBuildCompletedEventListener.handleEvent(PostBuildCompletedEventListener.java:41)    com.atlassian.event.legacy.LegacyListenerHandler$LegacyListenerInvoker.invoke(LegacyListenerHandler.java:55)    com.atlassian.event.internal.AsynchronousAbleEventDispatcher$2.run(AsynchronousAbleEventDispatcher.java:60)    java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)    java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)    com.atlassian.bamboo.build.pipeline.concurrent.NamedThreadFactory$2.run(NamedThreadFactory.java:50)    java.lang.Thread.run(Thread.java:662)  Caused by: org.springframework.dao.IncorrectResultSizeDataAccessException: query did not return a unique result: 2    org.springframework.orm.hibernate.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:590)    org.springframework.orm.hibernate.HibernateAccessor.convertHibernateAccessException(HibernateAccessor.java:353)    org.springframework.orm.hibernate.HibernateTemplate.execute(HibernateTemplate.java:375)    org.springframework.orm.hibernate.HibernateTemplate.execute(HibernateTemplate.java:337)    com.atlassian.bamboo.labels.LabelHibernateDao.findLabelByNameAndNamespace(LabelHibernateDao.java:35)    sun.reflect.GeneratedMethodAccessor1269.invoke(Unknown Source)    sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)    java.lang.reflect.Method.invoke(Method.java:597)    org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:304)    org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:182)    org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:149)    org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:106)    org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)    org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)    $Proxy13.findLabelByNameAndNamespace(Unknown Source)    com.atlassian.bamboo.labels.LabelManagerImpl.addLabel(LabelManagerImpl.java:392)    com.atlassian.bamboo.labels.LabelManagerImpl$1.call(LabelManagerImpl.java:80)    com.atlassian.bamboo.labels.LabelManagerImpl$1.call(LabelManagerImpl.java:75)    com.atlassian.bamboo.labels.LabelManagerImpl.withWriteLock(LabelManagerImpl.java:207)    com.atlassian.bamboo.labels.LabelManagerImpl.addLabel(LabelManagerImpl.java:74)  	... 43 more  {noformat}    This happened for two separate and widely-used labels.  It was pretty obvious from the hibernate exception that Bamboo had created duplicate labels in the DB.  We ended up renaming the duplicate label and telling any builds that referenced it to use the original label.  The relevant database contents prior to the fix were as follows:  {noformat}  mysql> select * from LABEL where NAME=""14_0_36_21"";  +----------+------------+-----------+---------------------+---------------------+  | LABEL_ID | NAME       | NAMESPACE | CREATED_DATE        | UPDATED_DATE        |  +----------+------------+-----------+---------------------+---------------------+  | 55410738 | 14_0_36_21 | label     | 2011-09-02 05:08:56 | 2011-09-02 05:08:56 |  | 55410739 | 14_0_36_21 | label     | 2011-09-02 05:08:56 | 2011-09-02 05:08:56 |  +----------+------------+-----------+---------------------+---------------------+  2 rows in set (0.00 sec)    mysql> select * from BUILDRESULTSUMMARY_LABEL where LABEL_ID=""55410738"";  +----------+----------+-----------------------+----------+------------+-----------+---------------------+---------------------+  | ID       | LABEL_ID | BUILDRESULTSUMMARY_ID | BUILD_ID | PROJECT_ID | USER_NAME | CREATED_DATE        | UPDATED_DATE        |  +----------+----------+-----------------------+----------+------------+-----------+---------------------+---------------------+  | 55345686 | 55410738 |              55054288 | 44367885 |   43155458 | NULL      | 2011-09-02 05:08:56 | 2011-09-02 05:08:56 |  +----------+----------+-----------------------+----------+------------+-----------+---------------------+---------------------+  1 row in set (0.00 sec)    mysql> select * from BUILDRESULTSUMMARY_LABEL where LABEL_ID=""55410739"";  +----------+----------+-----------------------+----------+------------+-----------+---------------------+---------------------+  | ID       | LABEL_ID | BUILDRESULTSUMMARY_ID | BUILD_ID | PROJECT_ID | USER_NAME | CREATED_DATE        | UPDATED_DATE        |  +----------+----------+-----------------------+----------+------------+-----------+---------------------+---------------------+  | 55345687 | 55410739 |              55054290 | 51183804 |   43155458 | NULL      | 2011-09-02 05:08:56 | 2011-09-02 05:08:56 |  +----------+----------+-----------------------+----------+------------+-----------+---------------------+---------------------+  1 row in set (0.00 sec)      mysql> select * from BUILDRESULTSUMMARY where BUILDRESULTSUMMARY_ID=""55054288"";  +-----------------------+---------------------+---------------------+----------------------+--------------+-------------+-----------------------+-------------------+---------------------+----------------------+----------+-------------+--------------------------------------------------------------------------+--------------+-------------+----------------+---------------------+---------------------+--------------------+--------------------+------------------+-------------------+---------------------+------------------+---------------------+----------------+------------+------------------+----------------------+-----------------------+--------------+  | BUILDRESULTSUMMARY_ID | CREATED_DATE        | UPDATED_DATE        | BUILD_KEY            | BUILD_NUMBER | BUILD_STATE | SUCCESSFUL_TEST_COUNT | FAILED_TEST_COUNT | BUILD_DATE          | BUILD_COMPLETED_DATE | DURATION | TIME_TO_FIX | TRIGGER_REASON                                                           | REVISION_KEY | DELTA_STATE | BUILD_AGENT_ID | VCS_UPDATE_TIME     | QUEUE_TIME          | FAILURE_TEST_COUNT | SUCCESS_TEST_COUNT | TOTAL_TEST_COUNT | BROKEN_TEST_COUNT | EXISTING_TEST_COUNT | FIXED_TEST_COUNT | TOTAL_TEST_DURATION | STAGERESULT_ID | BUILD_TYPE | LIFE_CYCLE_STATE | BUILD_CANCELLED_DATE | SKIPPED_COMMITS_COUNT | CHAIN_RESULT |  +-----------------------+---------------------+---------------------+----------------------+--------------+-------------+-----------------------+-------------------+---------------------+----------------------+----------+-------------+--------------------------------------------------------------------------+--------------+-------------+----------------+---------------------+---------------------+--------------------+--------------------+------------------+-------------------+---------------------+------------------+---------------------+----------------+------------+------------------+----------------------+-----------------------+--------------+  |              55054288 | 2011-09-02 05:01:09 | 2011-09-02 05:08:55 | yyy-JOB1 |         3149 | Successful  |                  NULL |              NULL | 2011-09-02 05:02:22 | 2011-09-02 05:03:30  |    68367 |        NULL | com.atlassian.bamboo.plugin.system.triggerReason:DependencyTriggerReason | 17035        | NONE        |       41353237 | 2011-09-02 05:01:09 | 2011-09-02 05:01:09 |                  0 |                  0 |                0 |                 0 |                   0 |                0 |                   0 |       55085118 | BUILD      | Finished         | NULL                 |                     0 |     55054287 |  +-----------------------+---------------------+---------------------+----------------------+--------------+-------------+-----------------------+-------------------+---------------------+----------------------+----------+-------------+--------------------------------------------------------------------------+--------------+-------------+----------------+---------------------+---------------------+--------------------+--------------------+------------------+-------------------+---------------------+------------------+---------------------+----------------+------------+------------------+----------------------+-----------------------+--------------+  1 row in set (0.00 sec)    mysql> select * from BUILDRESULTSUMMARY where BUILDRESULTSUMMARY_ID=""55054290"";  +-----------------------+---------------------+---------------------+--------------------------+--------------+-------------+-----------------------+-------------------+---------------------+----------------------+----------+-------------+--------------------------------------------------------------------------+--------------+-------------+----------------+---------------------+---------------------+--------------------+--------------------+------------------+-------------------+---------------------+------------------+---------------------+----------------+------------+------------------+----------------------+-----------------------+--------------+  | BUILDRESULTSUMMARY_ID | CREATED_DATE        | UPDATED_DATE        | BUILD_KEY                | BUILD_NUMBER | BUILD_STATE | SUCCESSFUL_TEST_COUNT | FAILED_TEST_COUNT | BUILD_DATE          | BUILD_COMPLETED_DATE | DURATION | TIME_TO_FIX | TRIGGER_REASON                                                           | REVISION_KEY | DELTA_STATE | BUILD_AGENT_ID | VCS_UPDATE_TIME     | QUEUE_TIME          | FAILURE_TEST_COUNT | SUCCESS_TEST_COUNT | TOTAL_TEST_COUNT | BROKEN_TEST_COUNT | EXISTING_TEST_COUNT | FIXED_TEST_COUNT | TOTAL_TEST_DURATION | STAGERESULT_ID | BUILD_TYPE | LIFE_CYCLE_STATE | BUILD_CANCELLED_DATE | SKIPPED_COMMITS_COUNT | CHAIN_RESULT |  +-----------------------+---------------------+---------------------+--------------------------+--------------+-------------+-----------------------+-------------------+---------------------+----------------------+----------+-------------+--------------------------------------------------------------------------+--------------+-------------+----------------+---------------------+---------------------+--------------------+--------------------+------------------+-------------------+---------------------+------------------+---------------------+----------------+------------+------------------+----------------------+-----------------------+--------------+  |              55054290 | 2011-09-02 05:02:17 | 2011-09-02 05:08:55 | xxx-JOB1 |          667 | Successful  |                  NULL |              NULL | 2011-09-02 05:03:40 | 2011-09-02 05:05:58  |   137913 |        NULL | com.atlassian.bamboo.plugin.system.triggerReason:DependencyTriggerReason | 17035        | NONE        |       33128455 | 2011-09-02 05:02:18 | 2011-09-02 05:02:17 |                  0 |                  0 |                0 |                 0 |                   0 |                0 |                   0 |       55085119 | BUILD      | Finished         | NULL                 |                     0 |     55054289 |  +-----------------------+---------------------+---------------------+--------------------------+--------------+-------------+-----------------------+-------------------+---------------------+----------------------+----------+-------------+--------------------------------------------------------------------------+--------------+-------------+----------------+---------------------+---------------------+--------------------+--------------------+------------------+-------------------+---------------------+------------------+---------------------+----------------+------------+------------------+----------------------+-----------------------+--------------+  1 row in set (0.01 sec)    mysql> select * from BUILD where BUILD_ID=""44367885"";  +----------+---------------------+---------------------+----------------------+----------+-------------+--------------+--------------------+---------------------+-------------------+-------------------------+---------------------+------------+------------------+-----------------+------------+-------------+----------+  | BUILD_ID | CREATED_DATE        | UPDATED_DATE        | FULL_KEY             | BUILDKEY | TITLE       | REVISION_KEY | FIRST_BUILD_NUMBER | LATEST_BUILD_NUMBER | NEXT_BUILD_NUMBER | SUSPENDED_FROM_BUILDING | MARKED_FOR_DELETION | PROJECT_ID | NOTIFICATION_SET | REQUIREMENT_SET | BUILD_TYPE | DESCRIPTION | STAGE_ID |  +----------+---------------------+---------------------+----------------------+----------+-------------+--------------+--------------------+---------------------+-------------------+-------------------------+---------------------+------------+------------------+-----------------+------------+-------------+----------+  | 44367885 | 2011-07-03 06:10:37 | 2011-09-02 13:01:18 | yyy-JOB1 | JOB1     | Default Job | 17073        |                  1 |                3157 |              3158 |                         |                     |   43155458 |         44466189 |        44400653 | JOB        |             | 44335117 |  +----------+---------------------+---------------------+----------------------+----------+-------------+--------------+--------------------+---------------------+-------------------+-------------------------+---------------------+------------+------------------+-----------------+------------+-------------+----------+  1 row in set (0.00 sec)    mysql> select * from BUILD where BUILD_ID=""51183804"";  +----------+---------------------+---------------------+--------------------------+----------+-------------+--------------+--------------------+---------------------+-------------------+-------------------------+---------------------+------------+------------------+-----------------+------------+-------------+----------+  | BUILD_ID | CREATED_DATE        | UPDATED_DATE        | FULL_KEY                 | BUILDKEY | TITLE       | REVISION_KEY | FIRST_BUILD_NUMBER | LATEST_BUILD_NUMBER | NEXT_BUILD_NUMBER | SUSPENDED_FROM_BUILDING | MARKED_FOR_DELETION | PROJECT_ID | NOTIFICATION_SET | REQUIREMENT_SET | BUILD_TYPE | DESCRIPTION | STAGE_ID |  +----------+---------------------+---------------------+--------------------------+----------+-------------+--------------+--------------------+---------------------+-------------------+-------------------------+---------------------+------------+------------------+-----------------+------------+-------------+----------+  | 51183804 | 2011-08-05 02:01:37 | 2011-09-02 13:01:19 | xxx-JOB1 | JOB1     | Default Job | 17073        |                330 |                 675 |               676 |                         |                     |   43155458 |         51249340 |        51216523 | JOB        |             | 51150929 |  +----------+---------------------+---------------------+--------------------------+----------+-------------+--------------+--------------------+---------------------+-------------------+-------------------------+---------------------+------------+------------------+-----------------+------------+-------------+----------+  1 row in set (0.00 sec)  {noformat}    We hit a very similar issue with a plan creation race condition (BAM-9231) recently.   This appears to be caused by a separate race condition affecting the creation of labels.",2
"Test (and fix is required) agent and server wrapper with openjdk7
nan",2
"Update checkout task definition on repository update and clone
nan",2
"Add server pause button to UPM decorator
We need to add the server pause button to the UPM decorator and a warning that if you do not pause the server and upgrade a plugin, builds may fail.",2
"My Bamboo looks weird when more than one commit is involved in a build :-)
It links build only to the latest user commit. There's a bug in getResultSummariesByChangeSetId method query that returns result summaries only if the changeset is the latest changeset.",1
"Bamboo should use default application link to retrieve issues +from jira 4.2.x+ when no project entity link is set up for a plan.
Steps to reproduce:  1) grab {color:red}jira 4.2{color} (we can't reproduce problem on jira 4.3+)  2) grab bamboo 3.2.2  3) set up an application link from bamboo to jira, use outgoing ""basic access""  4) set up a test project with a test issue on jira instance  5) set up a test project with a test plan on bamboo instance  5.1) force that plan to detect changes on a repository that will contain commit with jira-issue comment  5.2) for example:  {noformat}  mkdir test ; cd test  hg init ; echo ""aaa"" >> aaa.txt ; hg add aaa.txt ; hg commit --user ""user"" -m ""initial""  echo ""aaa"" >> aaa.txt ; hg commit --user ""user"" -m ""BAM-9867 message message""  # repeat above line when you need to trigger bamboo build  {noformat}  6) go to build result page of the plan, build should have contain commits with ""BAM-9867"" comments. (replace ""BAM-9867"" with your jira instance test issue)  7.1) when you click on ""BAM-9867"" you will get ""unexpected error has occured""  7.2) while you should be redirected to the jira page  8.1) on the JIRA issues panel you should have see your issue, with it's icon, and with link to your jira instance  8.2) instead you will see something like ""Can't retrieve issues"" or similar error, I don't remember.  9) obviosly ""Issues"" tab is borked as well.    ",2
"ActiveMQ JMS data file no longer found causing builds not able to launch
{noformat:title=BEAC server log JMS summary snipppet}  2011-10-09 18:34:29,222 ERROR [BrokerService[bamboo] Task] [Queue] Failed to page in more queue messages  java.lang.RuntimeException: java.lang.RuntimeException: java.io.IOException: Could not locate data file /opt/j2ee/domains/bamboo.atlassian.com/confluence/webapps/atlassian-bamboo/data/current/jms-store/bamboo/KahaDB/db-1782.log          at org.apache.activemq.broker.region.cursors.AbstractStoreCursor.reset(AbstractStoreCursor.java:113)          at org.apache.activemq.broker.region.cursors.StoreQueueCursor.reset(StoreQueueCursor.java:157)          at org.apache.activemq.broker.region.Queue.doPageIn(Queue.java:1677)          at org.apache.activemq.broker.region.Queue.pageInMessages(Queue.java:1897)          at org.apache.activemq.broker.region.Queue.iterate(Queue.java:1424)          at org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:122)          at org.apache.activemq.thread.PooledTaskRunner$1.run(PooledTaskRunner.java:43)          at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)          at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)          at java.lang.Thread.run(Thread.java:662)  Caused by: java.lang.RuntimeException: java.io.IOException: Could not locate data file /opt/j2ee/domains/bamboo.atlassian.com/confluence/webapps/atlassian-bamboo/data/current/jms-store/bamboo/KahaDB/db-1782.log          at org.apache.activemq.broker.region.cursors.AbstractStoreCursor.fillBatch(AbstractStoreCursor.java:265)          at org.apache.activemq.broker.region.cursors.AbstractStoreCursor.reset(AbstractStoreCursor.java:110)          ... 9 more  Caused by: java.io.IOException: Could not locate data file /opt/j2ee/domains/bamboo.atlassian.com/confluence/webapps/atlassian-bamboo/data/current/jms-store/bamboo/KahaDB/db-1782.log          at org.apache.kahadb.journal.Journal.getDataFile(Journal.java:345)          at org.apache.kahadb.journal.Journal.read(Journal.java:592)          at org.apache.activemq.store.kahadb.MessageDatabase.load(MessageDatabase.java:786)          at org.apache.activemq.store.kahadb.KahaDBStore.loadMessage(KahaDBStore.java:956)          at org.apache.activemq.store.kahadb.KahaDBStore$KahaDBMessageStore$5.execute(KahaDBStore.java:494)          at org.apache.kahadb.page.Transaction.execute(Transaction.java:728)          at org.apache.activemq.store.kahadb.KahaDBStore$KahaDBMessageStore.recoverNextMessages(KahaDBStore.java:485)          at org.apache.activemq.store.ProxyMessageStore.recoverNextMessages(ProxyMessageStore.java:88)          at org.apache.activemq.broker.region.cursors.QueueStorePrefetch.doFillBatch(QueueStorePrefetch.java:97)          at org.apache.activemq.broker.region.cursors.AbstractStoreCursor.fillBatch(AbstractStoreCursor.java:262)          ... 10 more  2011-10-09 18:34:29,351 ERROR [BrokerService[bamboo] Task] [Journal] Looking for key 1782 but not found in fileMap: {1783=db-1783.log number = 1783 , length = 33554836, 1786=db-1786.log number = 1786 , length = 34109378, 1787=db-1787.log number = 1787 , length = 33556132, 1280=db-1280.log number = 1280 , length = 33556132, 1784=db-1784.log number = 1784 , length = 33554712, 1790=db-1790.log number = 1790 , length = 33606358, 1791=db-1791.log number = 1791 , length = 35664711, 1788=db-1788.log number = 1788 , length = 33581527, 1789=db-1789.log number = 1789 , length = 33557879, 1806=db-1806.log number = 1806 , length = 33592825, 1807=db-1807.log number = 1807 , length = 16003513, 1804=db-1804.log number = 1804 , length = 33635071, 1805=db-1805.log number = 1805 , length = 33554607, 1802=db-1802.log number = 1802 , length = 33580009, 1803=db-1803.log number = 1803 , length = 33554674, 1800=db-1800.log number = 1800 , length = 33567294, 1801=db-1801.log number = 1801 , length = 33819685, 1798=db-1798.log number = 1798 , length = 33971508, 1279=db-1279.log number = 1279 , length = 33554625, 1799=db-1799.log number = 1799 , length = 33630766, 1796=db-1796.log number = 1796 , length = 33651278, 1797=db-1797.log number = 1797 , length = 45623364, 1794=db-1794.log number = 1794 , length = 33666339, 1795=db-1795.log number = 1795 , length = 34512258, 1792=db-1792.log number = 1792 , length = 35143715, 1793=db-1793.log number = 1793 , length = 33776959}      {noformat}    {noformat:title=remote agents unable to send heartbeats}  2011-10-10 09:55:43,655 INFO [QuartzScheduler_Worker-9] [AgentHeartBeatJob] Not sending a new heartbeat since an old one is still being sent, last successful transmission time was 13 seconds ago, dropping the current heartbeat...  2011-10-10 10:05:43,655 INFO [QuartzScheduler_Worker-6] [AgentHeartBeatJob] Not sending a new heartbeat since an old one is still being sent, last successful transmission time was 7 seconds ago, dropping the current heartbeat..  {noformat}    Likely caused by these ActiveMQ Issues:    https://issues.apache.org/jira/browse/AMQ-3310  or:  https://issues.apache.org/jira/browse/AMQ-3470    Reported internally in:  https://extranet.atlassian.com/jira/browse/BUILDENG-649  https://extranet.atlassian.com/jira/browse/BUILDENG-651      The JMS spam caused the server logs to roll  over so I was unable to capture the beginning of the problem.    Confirmed server side that {{db-1782.log}} in the JMS repo was not present",2
"Scheduled backup fails randomly while expiration is running at the same time.
As reported in https://support.atlassian.com/browse/BSP-5570    We should provide a check:  - backup should wait for running expiration to finish  - expiration should wait for running backup to finish",3
"Bamboo AMPS setup should hit the updateDefaultsLocalCapability link after import
Its an absolute pain when developing amps plugins because everytime bamboo starts up it doesn't have and jdk's or executables set up.  If it could click the updateDefaultsLocalCapability action after import, all this stuff would get pulled in from your local environment.",2
"POMs from 3.3.2 Source code released to customers is still using ""3.3-SNAPSHOT""
POMs from 3.3.2 Source code released to customers is still using ""3.3-SNAPSHOT"".",1
"Streams 5 aggregation for Studio
Chai knows more about this than I do. Ill get him to comment here.",1
"Icons in Currently Building list are cut off
nan",1
"Test summary should show how many tests have been Quarentined (if any)
nan",1
